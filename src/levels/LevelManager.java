package levels;

import main.GamePanel;

public class LevelManager {
	private static final int LEVELS_NUMBER = 2;
	private GamePanel gp;
	private int currentLevelID;
	private Level[] levels;
	private boolean inHouse = true;
	
	public LevelManager(GamePanel gp) {
		this.gp = gp;
		currentLevelID = gp.getCurrentLevelID(); 
		levels = new Level[LEVELS_NUMBER];
		loadLevels();
	}
	
	private void loadLevels() {
		
		int[][]houseTileMatrix = 
		{ {2,2,2,2,2,2,2,2,2}
		, {2,0,0,0,0,0,0,0,2}
		, {2,0,0,0,0,0,0,0,2}
		, {2,0,0,0,0,0,0,0,2}
		, {2,0,0,0,0,0,0,0,2}
		, {2,2,2,2,0,2,2,2,2}
		};
		
		int[][]houseObjectMatrix = 
		{ {0,0,0,0,0,0,0,0,0}
		, {0,0,0,0,0,0,0,0,0}
		, {0,0,0,0,0,0,0,0,0}
		, {0,0,0,0,0,0,0,0,0}
		, {0,0,0,0,0,0,0,0,0}
		, {0,0,0,0,1,0,0,0,0}
		};
		
		levels[0] = new Level(gp,houseTileMatrix,houseObjectMatrix);
		
		int[][] tileMatrix0 = 
			{ {2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2} 
			, {2,4,4,4,4,4,4,4,2,3,0,0,2,4,4,4,4,4,4,4,2} 
			, {2,4,4,4,4,4,4,4,2,0,0,0,2,4,4,4,4,4,4,4,2} 
			, {2,4,4,4,4,4,4,4,2,2,0,2,2,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2} 
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2} 
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2} 
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,2}
			, {2,4,4,4,4,1,1,1,1,1,0,1,1,1,1,1,4,4,4,4,2}
			, {2,4,4,4,4,1,0,0,0,0,0,0,0,0,0,1,4,4,4,4,2}
			, {2,4,4,4,4,1,0,0,0,0,0,0,0,0,0,1,4,4,4,4,2}
			, {2,4,4,4,4,1,0,0,0,0,0,0,0,0,0,1,4,4,4,4,2}
			, {2,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,2}
			, {2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2}}; 
		
		int[][] objectMatrix0 =
			{ {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} 
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} 
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0} 
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0}
			, {0,0,0,0,0,0,2,2,2,2,3,2,2,2,2,0,0,0,0,0,0}
			, {0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
			, {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}};
		
		levels[1] = new Level(gp,tileMatrix0, objectMatrix0);
		levels[1].increaseInitialY();
		 
		
	}

	public Level getCurrentLevel() {
		return levels[currentLevelID];
	}
	
	private void getOutOfHouse() {
		inHouse = false;
		 currentLevelID = 1;
		 gp.updateCurrentLevel();
		 gp.getPlayer().updateXY();
	}
	
	private void getInsideHouse() {
		inHouse = true;
		currentLevelID = 0;
		gp.updateCurrentLevel();
		gp.getCurrentLevel().increaseInitialY();
		gp.getPlayer().updateXY();
	}
	
	public int getCurrentLevelID() {
		return currentLevelID;
	}
	
	private boolean isInHouse() {
		return inHouse;
	}

	public void doorMovement() {
		if(inHouse) {
			getOutOfHouse();
		}else {
			getInsideHouse();
		}
	}
	

}
